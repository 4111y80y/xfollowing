# X互关宝 (xfollowing)

X互关宝是一个帮助用户在X.com (Twitter)上获取互关粉丝的开源工具。

## 功能特点

### 帖子监控
- 自动监控X.com上含有"互关"等关键词的帖子
- 只采集蓝V认证用户的帖子
- 支持自定义关键词，双击关键词可跳转到该关键词的Latest搜索
- 定时扫描页面（每5秒），自动采集新出现的帖子
- 帖子按发布时间排序，最新的排在最前

### 自动关注
- 点击帖子自动打开用户主页并执行关注
- **自动批量关注**: 一键启动，自动从上往下依次关注所有未关注用户
- 关注前等待页面完全加载（2秒），确保点击有效
- 关注后自动验证是否成功，失败自动重试（最多2次）
- 自动检测并跳过已关注用户和自己的页面

### 冷却保护
- 关注后随机冷却60-180秒（可自定义范围，最小60秒）
- 冷却期间禁止手动/自动关注，防止频繁操作被封号
- 右侧浏览器顶部显示红色倒计时
- 自动关注模式下，冷却结束自动继续下一个

### 状态管理
- 标记已关注的帖子，支持隐藏已关注（默认开启）
- 已关注作者列表，点击可查看其主页（不触发关注）
- 所有设置自动保存，下次启动恢复
- 默认关键词"互关"不可删除

### 界面布局
- 三栏布局: 左侧搜索页、中间控制面板、右侧用户页
- 右侧浏览器延迟初始化，点击帖子时才创建
- 作者链接: 底部提供X主页和GitHub仓库链接

## 截图预览

```
+------------------------------------------------------------------+
|                         X互关宝                                   |
+------------------------------------------------------------------+
|  +----------------+  +------------------+  +------------------+   |
|  |                |  |   [关键词设置]    |  |                  |   |
|  |   左侧浏览器    |  |  +-----------+   |  |   右侧浏览器      |   |
|  |   (搜索页面)    |  |  | 互关      |   |  |   (用户页面)      |   |
|  |                |  |  +-----------+   |  |                  |   |
|  |                |  |                  |  |  [冷却倒计时]     |   |
|  |                |  |   [帖子列表]     |  |                  |   |
|  |                |  |  +-----------+   |  |                  |   |
|  |                |  |  | @user1 [v]|   |  |                  |   |
|  |                |  |  | @user2    |   |  |                  |   |
|  |                |  |  +-----------+   |  |                  |   |
|  |                |  |                  |  |                  |   |
|  |                |  |  [x] 隐藏已关注  |  |                  |   |
|  |                |  |  冷却: 60~180秒  |  |                  |   |
|  |                |  |  [自动关注] X|GH |  |                  |   |
|  +----------------+  +------------------+  +------------------+   |
+------------------------------------------------------------------+
|  已采集: 123 | 已关注: 45 | 待关注: 78                            |
+------------------------------------------------------------------+
```

## 技术栈

- C++ 17
- Qt 6.10.1
- CEF (Chromium Embedded Framework)
- CMake

## 系统要求

- Windows 10/11 64位
- 其他系统暂不支持（CEF依赖平台特定版本）

## 下载使用

### 方式一：下载Release版本
1. 从 [Releases](https://github.com/4111y80y/xfollowing/releases) 下载最新版本
2. 解压到任意目录
3. 运行 `xfollowing.exe`
4. 首次使用需要在左侧浏览器登录X.com账号

### 方式二：自行编译
参见下方编译步骤。

## 编译要求

- Windows 10/11
- Visual Studio 2022 (MSVC)
- Qt 6.10.1 MSVC 2022 64bit
- CEF库

## 编译步骤

1. 确保Qt和CEF路径正确配置在CMakeLists.txt中
2. 使用Qt Creator打开CMakeLists.txt
3. 选择MSVC 2022 64bit编译套件
4. 构建项目

```bash
mkdir build
cd build
cmake -G "Ninja" -DCMAKE_BUILD_TYPE=Release ..
cmake --build .
```

## 使用方法

### 基本使用
1. 启动程序后，左侧浏览器会打开X.com搜索页
2. 登录你的X.com账号（登录状态会保存）
3. 在中间面板设置监控关键词（默认"互关"）
4. 程序会自动监控匹配的蓝V用户帖子并显示在列表中
5. 点击帖子，右侧浏览器会打开该用户的主页并自动关注
6. 已关注的帖子会标记[v]

### 自动批量关注
1. 等待采集到足够的帖子
2. 点击"自动关注"按钮（蓝色）
3. 程序会自动从上往下依次关注所有未关注用户
4. 每次关注后随机冷却60-180秒
5. 遇到已关注或自己的页面会自动跳过（无需冷却）
6. 点击"停止关注"（红色）可随时停止

### 快捷操作
- 双击关键词: 跳转到该关键词的Latest搜索页面
- 点击已关注列表中的作者: 查看其主页（不会触发关注）

## 数据存储

所有数据保存在程序目录下：

```
xfollowing/
├── xfollowing.exe
├── data/
│   ├── posts.json      # 帖子记录
│   └── keywords.json   # 关键词配置
├── userdata/
│   └── default/        # 浏览器登录状态
└── logs/               # 调试日志
```

## 项目结构

```
xfollowing/
├── CMakeLists.txt
├── README.md
├── src/
│   ├── main.cpp
│   ├── App/           # CEF集成
│   │   ├── CefApp.h/cpp
│   │   └── CefHandler.h/cpp
│   ├── UI/            # 用户界面
│   │   ├── MainWindow.h/cpp
│   │   ├── BrowserWidget.h/cpp
│   │   ├── KeywordPanel.h/cpp
│   │   └── PostListPanel.h/cpp
│   ├── Data/          # 数据结构和存储
│   │   ├── Post.h
│   │   ├── Keyword.h
│   │   └── DataStorage.h/cpp
│   └── Core/          # 核心功能
│       ├── PostMonitor.h/cpp
│       └── AutoFollower.h/cpp
```

## 注意事项

- 首次使用需要在左侧浏览器登录X.com账号
- 登录状态会保存在userdata目录，下次启动无需重新登录
- 建议冷却时间不要设置太短（最小60秒），避免被X.com限制
- 本工具仅供学习交流使用，请遵守X.com使用条款

## 更新日志

### v1.0.0 (2025-01-19)
- 首次发布
- 支持帖子监控和自动关注
- 支持自动批量关注
- 只采集蓝V用户
- 随机冷却时间保护
- 自动跳过已关注和自己的页面

## 开源协议

MIT License

## 作者

- X: [@4111y80y](https://x.com/4111y80y)
- GitHub: [4111y80y/xfollowing](https://github.com/4111y80y/xfollowing)

## 支持项目

如果这个工具对你有帮助，欢迎：
- 在GitHub上点个Star
- 在X上关注作者 [@4111y80y](https://x.com/4111y80y)
- 分享给需要的朋友
